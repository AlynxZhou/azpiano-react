(this["webpackJsonpazpiano-react"]=this["webpackJsonpazpiano-react"]||[]).push([[0],{37:function(e){e.exports=JSON.parse('{"B2":"<7>","C3":"(1)","Db3":"(#1)","D3":"(2)","Eb3":"(#2)","E3":"(3)","F3":"(4)","Gb3":"(#4)","G3":"(5)","Ab3":"(#5)","A3":"(6)","Bb3":"(#6)","B3":"(7)","C4":"1","Db4":"#1","D4":"2","Eb4":"#2","E4":"3","F4":"4","Gb4":"#4","G4":"5","Ab4":"#5","A4":"6","Bb4":"#6","B4":"7","C5":"[1]","Db5":"[#1]","D5":"[2]","Eb5":"[#2]","E5":"[3]","F5":"[4]","Gb5":"[#4]","G5":"[5]","Ab5":"[#5]","A5":"[6]","Bb5":"[#6]","B5":"[7]","C6":"{1}","Db6":"{#1}","D6":"{2}","Eb6":"{#2}","E6":"{3}","F6":"{4}","Gb6":"{#4}","G6":"{5}","Ab6":"{#5}","A6":"{6}","Bb6":"{#6}","B6":"{7}"}')},49:function(e){e.exports=JSON.parse('{"Escape":"Esc","Backquote":"`","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"10","Minus":"-","Equal":"=","IntlYen":"\uffe5","Backspace":"Backspace","Tab":"Tab","KeyQ":"Q","KeyW":"W","KeyE":"E","KeyR":"R","KeyT":"T","KeyY":"Y","KeyU":"U","KeyI":"I","KeyO":"O","KeyP":"P","BracketLeft":"[","BracketRight":"]","Backslash":"\\\\","CapsLock":"CapsLock","KeyA":"A","KeyS":"S","KeyD":"D","KeyF":"F","KeyG":"G","KeyH":"H","KeyJ":"J","KeyK":"K","KeyL":"L","Semicolon":";","Quote":"\'","Enter":"Enter","ShiftLeft":"Shift","KeyZ":"Z","KeyX":"X","KeyC":"C","KeyV":"V","KeyB":"B","KeyN":"N","KeyM":"M","Comma":",","Period":".","Slash":"/","IntlRo":"\uff3c","ShiftRight":"Shift","ControlLeft":"Ctrl","Space":"Space","ControlRight":"Ctrl"}')},51:function(e){e.exports=JSON.parse('[[["Backquote","B2"],["Digit1","C3"],["Digit2","Db3"],["Digit3","D3"],["Digit4","Eb3"],["Digit5","E3"],["Digit6","F3"],["Digit7","Gb3"],["Digit8","G3"],["Digit9","Ab3"],["Digit0","A3"],["Minus","Bb3"],["Equal","B3"],["Backspace","C4"]],[["Tab","B3"],["KeyQ","C4"],["KeyW","Db4"],["KeyE","D4"],["KeyR","Eb4"],["KeyT","E4"],["KeyY","F4"],["KeyU","Gb4"],["KeyI","G4"],["KeyO","Ab4"],["KeyP","A4"],["BracketLeft","Bb4"],["BracketRight","B4"],["Backslash","C5"]],[["CapsLock","B4"],["KeyA","C5"],["KeyS","Db5"],["KeyD","D5"],["KeyF","Eb5"],["KeyG","E5"],["KeyH","F5"],["KeyJ","Gb5"],["KeyK","G5"],["KeyL","Ab5"],["Semicolon","A5"],["Quote","Bb5"],["Enter","B5"]],[["ShiftLeft","B5"],["KeyZ","C6"],["KeyX","Db6"],["KeyC","D6"],["KeyV","Eb6"],["KeyB","E6"],["KeyN","F6"],["KeyM","Gb6"],["Comma","G6"],["Period","Ab6"],["Slash","A6"],["ShiftRight","Bb6"]],[["Space","B6"]]]')},52:function(e){e.exports=JSON.parse('[[["Backquote","B2"],["Digit1","C3"],["Digit2","Db3"],["Digit3","D3"],["Digit4","Eb3"],["Digit5","E3"],["Digit6","F3"],["Digit7","Gb3"],["Digit8","G3"],["Digit9","Ab3"],["Digit0","A3"],["Minus","Bb3"],["Equal","B3"],["Backspace","C4"]],[["Tab","B3"],["KeyQ","C4"],["KeyW","Db4"],["KeyE","D4"],["KeyR","Eb4"],["KeyT","E4"],["KeyY","F4"],["KeyU","Gb4"],["KeyI","G4"],["KeyO","Ab4"],["KeyP","A4"],["BracketLeft","Bb4"],["BracketRight","B4"],["Backslash","C5"]],[["ControlLeft","B4"],["KeyA","C5"],["KeyS","Db5"],["KeyD","D5"],["KeyF","Eb5"],["KeyG","E5"],["KeyH","F5"],["KeyJ","Gb5"],["KeyK","G5"],["KeyL","Ab5"],["Semicolon","A5"],["Quote","Bb5"],["Enter","B5"]],[["ShiftLeft","B5"],["KeyZ","C6"],["KeyX","Db6"],["KeyC","D6"],["KeyV","Eb6"],["KeyB","E6"],["KeyN","F6"],["KeyM","Gb6"],["Comma","G6"],["Period","Ab6"],["Slash","A6"],["ShiftRight","Bb6"]],[["Space","B6"]]]')},53:function(e){e.exports=JSON.parse('[[["Escape","B2"],["Digit1","C3"],["Digit2","Db3"],["Digit3","D3"],["Digit4","Eb3"],["Digit5","E3"],["Digit6","F3"],["Digit7","Gb3"],["Digit8","G3"],["Digit9","Ab3"],["Digit0","A3"],["Minus","Bb3"],["Equal","B3"],["Backslash","C4"],["Backquote","B2"]],[["Tab","B3"],["KeyQ","C4"],["KeyW","Db4"],["KeyE","D4"],["KeyR","Eb4"],["KeyT","E4"],["KeyY","F4"],["KeyU","Gb4"],["KeyI","G4"],["KeyO","Ab4"],["KeyP","A4"],["BracketLeft","Bb4"],["BracketRight","B4"],["Backspace","C5"]],[["ControlLeft","B4"],["KeyA","C5"],["KeyS","Db5"],["KeyD","D5"],["KeyF","Eb5"],["KeyG","E5"],["KeyH","F5"],["KeyJ","Gb5"],["KeyK","G5"],["KeyL","Ab5"],["Semicolon","A5"],["Quote","Bb5"],["Enter","B5"]],[["ShiftLeft","B5"],["KeyZ","C6"],["KeyX","Db6"],["KeyC","D6"],["KeyV","Eb6"],["KeyB","E6"],["KeyN","F6"],["KeyM","Gb6"],["Comma","G6"],["Period","Ab6"],["Slash","A6"],["ShiftRight","Bb6"]],[["Space","B6"]]]')},54:function(e){e.exports=JSON.parse('[[["Backquote","B2"],["Digit1","C3"],["Digit2","Db3"],["Digit3","D3"],["Digit4","Eb3"],["Digit5","E3"],["Digit6","F3"],["Digit7","Gb3"],["Digit8","G3"],["Digit9","Ab3"],["Digit0","A3"],["Minus","Bb3"],["Equal","B3"],["IntlYen","C4"],["Backspace","B2"]],[["Tab","B3"],["KeyQ","C4"],["KeyW","Db4"],["KeyE","D4"],["KeyR","Eb4"],["KeyT","E4"],["KeyY","F4"],["KeyU","Gb4"],["KeyI","G4"],["KeyO","Ab4"],["KeyP","A4"],["BracketLeft","Bb4"],["BracketRight","B4"],["Enter","C6"]],[["ControlLeft","B4"],["KeyA","C5"],["KeyS","Db5"],["KeyD","D5"],["KeyF","Eb5"],["KeyG","E5"],["KeyH","F5"],["KeyJ","Gb5"],["KeyK","G5"],["KeyL","Ab5"],["Semicolon","A5"],["Quote","Bb5"],["Backslash","B5"],["Enter","C6"]],[["ShiftLeft","B5"],["KeyZ","C6"],["KeyX","Db6"],["KeyC","D6"],["KeyV","Eb6"],["KeyB","E6"],["KeyN","F6"],["KeyM","Gb6"],["Comma","G6"],["Period","Ab6"],["Slash","A6"],["IntlRo","Bb6"],["ShiftRight","B6"]],[["Space","C5"]]]')},55:function(e){e.exports=JSON.parse('[[["Backquote","B2"],["Digit1","C3"],["Digit2","Db3"],["Digit3","D3"],["Digit4","Eb3"],["Digit5","E3"],["Digit6","F3"],["Digit7","Gb3"],["Digit8","G3"],["Digit9","Ab3"],["Digit0","A3"],["BracketLeft","Bb3"],["BracketRight","B3"],["Backspace","C4"]],[["Tab","B3"],["Quote","C4"],["Comma","Db4"],["Period","D4"],["KeyP","Eb4"],["KeyY","E4"],["KeyF","F4"],["KeyG","Gb4"],["KeyC","G4"],["KeyR","Ab4"],["KeyL","A4"],["Slash","Bb4"],["Equal","B4"],["Backslash","C5"]],[["CapsLock","B4"],["KeyA","C5"],["KeyO","Db5"],["KeyE","D5"],["KeyU","Eb5"],["KeyI","E5"],["KeyD","F5"],["KeyH","Gb5"],["KeyT","G5"],["KeyN","Ab5"],["KeyS","A5"],["Minus","Bb5"],["Enter","B5"]],[["ShiftLeft","B5"],["Semicolon","C6"],["KeyQ","Db6"],["KeyJ","D6"],["KeyK","Eb6"],["KeyX","E6"],["KeyB","F6"],["KeyM","Gb6"],["KeyW","G6"],["KeyV","Ab6"],["KeyZ","A6"],["ShiftRight","Bb6"]],[["Space","B6"]]]')},56:function(e){e.exports=JSON.parse('{"lilypond-is":{"B2":"b,","C3":"c","Db3":"cis","D3":"d","Eb3":"dis","E3":"e","F3":"f","Gb3":"fis","G3":"g","Ab3":"gis","A3":"a","Bb3":"ais","B3":"b","C4":"c\'","Db4":"cis\'","D4":"d\'","Eb4":"dis\'","E4":"e\'","F4":"f\'","Gb4":"fis\'","G4":"g\'","Ab4":"gis\'","A4":"a\'","Bb4":"ais\'","B4":"b\'","C5":"c\'\'","Db5":"cis\'\'","D5":"d\'\'","Eb5":"dis\'\'","E5":"e\'\'","F5":"f\'\'","Gb5":"fis\'\'","G5":"g\'\'","Ab5":"gis\'\'","A5":"a\'\'","Bb5":"ais\'\'","B5":"b\'\'","C6":"c\'\'\'","Db6":"cis\'\'\'","D6":"d\'\'\'","Eb6":"dis\'\'\'","E6":"e\'\'\'","F6":"f\'\'\'","Gb6":"fis\'\'\'","G6":"g\'\'\'","Ab6":"gis\'\'\'","A6":"a\'\'\'","Bb6":"ais\'\'\'","B6":"b\'\'\'"},"lilypond-es":{"B2":"b,","C3":"c","Db3":"des","D3":"d","Eb3":"ees","E3":"e","F3":"f","Gb3":"ges","G3":"g","Ab3":"aes","A3":"a","Bb3":"bes","B3":"b","C4":"c\'","Db4":"des\'","D4":"d\'","Eb4":"ees\'","E4":"e\'","F4":"f\'","Gb4":"ges\'","G4":"g\'","Ab4":"aes\'","A4":"a\'","Bb4":"bes\'","B4":"b\'","C5":"c\'\'","Db5":"des\'\'","D5":"d\'\'","Eb5":"ees\'\'","E5":"e\'\'","F5":"f\'\'","Gb5":"ges\'\'","G5":"g\'\'","Ab5":"aes\'\'","A5":"a\'\'","Bb5":"bes\'\'","B5":"b\'\'","C6":"c\'\'\'","Db6":"des\'\'\'","D6":"d\'\'\'","Eb6":"ees\'\'\'","E6":"e\'\'\'","F6":"f\'\'\'","Gb6":"ges\'\'\'","G6":"g\'\'\'","Ab6":"aes\'\'\'","A6":"a\'\'\'","Bb6":"bes\'\'\'","B6":"b\'\'\'"}}')},70:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),n=a(9),r=a.n(n),c=(a(70),a(43)),o=a(14),l=a(12),h=a(13),d=a(19),u=a(18),b=a(37),p=a(49),y=a(119),j=a(115),g=(a(71),a(2)),m=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(j.a,{className:this.props.pressed?"grid grid-pressed":"grid",children:[Object(g.jsx)("span",{className:"grid-upper",children:this.props.upper}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:"grid-lower",children:this.props.lower})]})}}]),a}(s.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderBlock",value:function(e,t,a,i){var s=p[e[0]];if("jp"===this.props.layoutParam)switch(e[0]){case"Equal":s="^";break;case"BracketLeft":s="@";break;case"BracketRight":s="[";break;case"Quote":s=":";break;case"Backslash":s="]"}var n="digit"===this.props.displayParam?b[e[1]]:e[1];return 0===a&&t===i-1?"hhkb"===this.props.layoutParam?Object(g.jsx)(y.a,{item:!0,xs:2,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):Object(g.jsx)(y.a,{item:!0,xs:4,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):1===a&&0===t?Object(g.jsx)(y.a,{item:!0,xs:3,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):1===a&&t===i-1?"jp"===this.props.layoutParam?Object(g.jsx)(y.a,{item:!0,xs:4,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):Object(g.jsx)(y.a,{item:!0,xs:3,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):2===a&&0===t?Object(g.jsx)(y.a,{item:!0,xs:3,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):2===a&&t===i-1?"jp"===this.props.layoutParam?Object(g.jsx)(y.a,{item:!0,xs:3,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):Object(g.jsx)(y.a,{item:!0,xs:4,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):3===a&&0===t?Object(g.jsx)(y.a,{item:!0,xs:3,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):3===a&&t===i-1?Object(g.jsx)(y.a,{item:!0,xs:4,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):4===a?Object(g.jsx)(y.a,{item:!0,xs:6,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t):Object(g.jsx)(y.a,{item:!0,xs:2,children:Object(g.jsx)(m,{upper:s,lower:n,pressed:this.props.state[e[0]]})},t)}},{key:"renderRow",value:function(e,t){var a=this;return Object(g.jsx)(y.a,{container:!0,justify:"center",spacing:3,wrap:"nowrap",children:e.map((function(i,s){return a.renderBlock(i,s,t,e.length)}))},t)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"map",children:Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"map-inner",children:this.props.layout.map(this.renderRow.bind(this))})})})}}]),a}(s.a.Component),O=a(127),C=a(123),K=a(128),D=a(130),x=(a(76),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).textRef=s.a.createRef(),i}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.textRef.current.scrollTop=this.textRef.current.scrollHeight}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"log",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)("div",{className:"log-inner",children:[Object(g.jsx)("div",{className:"log-text",children:Object(g.jsx)(K.a,{value:"digit"===this.props.outputMode?this.props.state.join(""):this.props.state.join(" "),variant:"outlined",inputProps:{readOnly:!0},inputRef:this.textRef,fullWidth:!0,rows:"8",multiline:!0})}),Object(g.jsxs)("div",{className:"log-buttons",children:[Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(D.a,{control:Object(g.jsx)(O.a,{className:"log-button",checked:this.props.enabled,color:"primary",onChange:this.props.onSwitchChange}),label:"Enable (F1)"})}),Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(C.a,{className:"log-button",variant:"contained",onClick:this.props.onSpaceClick,children:"Space (F2)"})}),Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(C.a,{className:"log-button",variant:"contained",onClick:this.props.onReturnClick,children:"Return (F3)"})}),Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(C.a,{className:"log-button",variant:"contained",color:"secondary",onClick:this.props.onDeleteClick,children:"Delete (F4)"})}),Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(C.a,{className:"log-button",variant:"contained",color:"secondary",onClick:this.props.onClearClick,children:"Clear (F5)"})}),Object(g.jsx)("div",{className:"log-item",children:Object(g.jsx)(C.a,{className:"log-button",variant:"contained",color:"primary",onClick:this.props.onCopyClick,children:"Copy (F6)"})})]})]})})})}}]),a}(s.a.Component)),k=a(126),v=a(131),B=a(129),S=a(122),E=(a(77),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"settings",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)("div",{className:"settings-inner",children:[Object(g.jsx)("div",{className:"settings-item",children:Object(g.jsxs)(S.a,{fullWidth:!0,children:[Object(g.jsx)(B.a,{id:"display",children:"Display"}),Object(g.jsx)(k.a,{labelId:"display",defaultValue:this.props.defaultDisplayValue,onChange:this.props.onDisplayChange,children:this.props.displayOptions.map((function(e,t){return Object(g.jsx)(v.a,{value:e,children:e},t)}))})]})}),Object(g.jsx)("div",{className:"settings-item",children:Object(g.jsxs)(S.a,{fullWidth:!0,children:[Object(g.jsx)(B.a,{id:"output",children:"Output"}),Object(g.jsx)(k.a,{labelId:"output",defaultValue:this.props.defaultOutputValue,onChange:this.props.onOutputChange,children:this.props.outputOptions.map((function(e,t){return Object(g.jsx)(v.a,{value:e,children:e},t)}))})]})}),Object(g.jsx)("div",{className:"settings-item",children:Object(g.jsxs)(S.a,{fullWidth:!0,children:[Object(g.jsx)(B.a,{id:"layout",children:"Layout"}),Object(g.jsx)(k.a,{labelId:"layout",defaultValue:this.props.defaultLayoutValue,onChange:this.props.onLayoutChange,children:this.props.layoutOptions.map((function(e,t){return Object(g.jsx)(v.a,{value:e,children:e},t)}))})]})})]})})})}}]),a}(s.a.Component)),A=(a(78),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"info",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)("div",{className:"info-inner",children:[Object(g.jsxs)("div",{children:["Star or fork on ",Object(g.jsx)("a",{href:"https://github.com/AlynxZhou/azpiano-react/",target:"_blank",rel:"noreferrer noopener",children:"GitHub"}),"."]}),Object(g.jsxs)("div",{children:["Welcome to ",Object(g.jsx)("a",{href:"https://alynx.one/",target:"_blank",rel:"noreferrer noopener",children:"Alynx Zhou's Homepage"}),"."]}),Object(g.jsxs)("div",{children:["Icons made by ",Object(g.jsx)("a",{href:"https://www.flaticon.com/authors/smartline",title:"Smartline",target:"_blank",rel:"noreferrer noopener",children:"Smartline"})," from ",Object(g.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noreferrer noopener",children:"www.flaticon.com"}),"."]})]})})})}}]),a}(s.a.Component)),w=window.AudioContext||window.webkitAudioContext,G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.context=new w,this.gainNode=this.context.createGain(),this.gainNode.gain.value=10,this.gainNode.connect(this.context.destination),this.sources={},this.stopDelay=t.stopDelay||.3,this.decodeAudioData=this.context.decodeAudioData.bind(this.context)}return Object(l.a)(e,[{key:"play",value:function(e,t){null==this.sources[e]&&(this.sources[e]=this.context.createBufferSource(),this.sources[e].buffer=t,this.sources[e].connect(this.gainNode),this.sources[e].start(this.context.currentTime))}},{key:"pause",value:function(e){null!=this.sources[e]&&(this.sources[e].stop(this.context.currentTime+this.stopDelay),delete this.sources[e])}},{key:"pauseAll",value:function(){for(var e in this.sources)this.pause(e)}}]),e}(),N=function(){function e(){Object(o.a)(this,e),this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return Object(l.a)(e,[{key:"removePaddingChars",value:function(e){for(var t=e.length-1;t>=0;--t)if("="!==e.charAt(t))return e.substring(0,t+1);return e}},{key:"decode",value:function(e){e=e.replace(/[^A-Za-z0-9+/=]/g,"");for(var t,a,i,s,n,r,c=(e=this.removePaddingChars(e)).length/4*3,o=new ArrayBuffer(c),l=new Uint8Array(o),h=0,d=0;d<c;d+=3)t=this.keyStr.indexOf(e.charAt(h++))<<2|(s=this.keyStr.indexOf(e.charAt(h++)))>>4,a=(15&s)<<4|(n=this.keyStr.indexOf(e.charAt(h++)))>>2,i=(3&n)<<6|(r=this.keyStr.indexOf(e.charAt(h++))),l[d]=t,64!==n&&(l[d+1]=a),64!==r&&(l[d+2]=i);return o}}]),e}(),L=a(51),P=a(52),F=a(53),R=a(54),I=a(55),J=a(56),V=(a(79),a(124)),M=a(125),Q="data:audio/ogg;base64,".length,W=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;Object(o.a)(this,i),(a=t.call(this,e)).decoder=new N,a.searchParams=new URLSearchParams(window.location.search),a.mapLayouts={default:L,ctrlcaps:P,hhkb:F,jp:R,dvorak:I},a.displayOptions=["digit","note"],a.outputOptions=["digit","lilypond-is","lilypond-es"];var s=window.localStorage.getItem("logState");return a.state={start:!1,ready:!1,percent:0,logState:null==s?[]:JSON.parse(s),logEnabled:!0,mapState:{},displayParam:a.searchParams.has("display")&&-1!==a.displayOptions.indexOf(a.searchParams.get("display"))?a.searchParams.get("display"):"digit",outputParam:a.searchParams.has("output")&&-1!==a.outputOptions.indexOf(a.searchParams.get("output"))?a.searchParams.get("output"):"digit",layoutParam:a.searchParams.has("layout")&&null!=a.mapLayouts[a.searchParams.get("layout")]?a.searchParams.get("layout"):"default"},a.mapLayout=a.mapLayouts[a.state.layoutParam],a.updateMapLayout(),a.notesBuffers={},a.notesDigits=b,a.notesLily=J,a.handleKeyDown=a.handleKeyDown.bind(Object(h.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(h.a)(a)),a.handleVisibilityChange=a.handleVisibilityChange.bind(Object(h.a)(a)),a.handleStartClick=a.handleStartClick.bind(Object(h.a)(a)),a.handleSwitchChange=a.handleSwitchChange.bind(Object(h.a)(a)),a.handleDeleteClick=a.handleDeleteClick.bind(Object(h.a)(a)),a.handleSpaceClick=a.handleSpaceClick.bind(Object(h.a)(a)),a.handleReturnClick=a.handleReturnClick.bind(Object(h.a)(a)),a.handleClearClick=a.handleClearClick.bind(Object(h.a)(a)),a.handleCopyClick=a.handleCopyClick.bind(Object(h.a)(a)),a.handleDisplayChange=a.handleDisplayChange.bind(Object(h.a)(a)),a.handleOutputChange=a.handleOutputChange.bind(Object(h.a)(a)),a.handleLayoutChange=a.handleLayoutChange.bind(Object(h.a)(a)),a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("visibilitychange",this.handleVisibilityChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}},{key:"updateQueryString",value:function(){var e=[window.location.protocol,"//",window.location.host,window.location.pathname,"?",this.searchParams.toString()].join("");window.history.replaceState({path:e},"",e)}},{key:"updateMapLayout",value:function(){this.codesNotes={};var e,t=Object(c.a)(this.mapLayout);try{for(t.s();!(e=t.n()).done;){var a,i=e.value,s=Object(c.a)(i);try{for(s.s();!(a=s.n()).done;){var n=a.value;this.codesNotes[n[0]]=n[1]}}catch(r){s.e(r)}finally{s.f()}}}catch(r){t.e(r)}finally{t.f()}}},{key:"handleVisibilityChange",value:function(e){"visible"!==document.visibilityState&&(this.player.pauseAll(),this.setState({mapState:{}}))}},{key:"handleKeyDown",value:function(e){if(e.preventDefault(),this.state.ready){switch(e.code){case"F1":return void this.handleSwitchChange();case"F2":return void this.handleSpaceClick();case"F3":return void this.handleReturnClick();case"F4":return void this.handleDeleteClick();case"F5":return void this.handleClearClick();case"F6":return void this.handleCopyClick()}if(!e.repeat&&null!=this.codesNotes[e.code]){var t=e.code,a=this.codesNotes[t],i=this.state,s=i.logState,n=i.mapState;n[t]=!0,this.state.logEnabled&&this.state.ready&&s.push("digit"===this.state.outputParam?this.notesDigits[a]:this.notesLily[this.state.outputParam][a]),window.localStorage.setItem("logState",JSON.stringify(s)),this.setState({logState:s,mapState:n}),this.player.play(a,this.notesBuffers[a])}}else this.onStartClick()}},{key:"handleKeyUp",value:function(e){if(e.preventDefault(),!e.repeat&&null!=this.codesNotes[e.code]){var t=e.code,a=this.codesNotes[t],i=this.state.mapState;i[t]=!1,this.setState({mapState:i}),this.player.pause(a)}}},{key:"handleSwitchChange",value:function(e){if(null!=e)this.setState({logEnabled:e.target.checked});else{var t=this.state.logEnabled;this.setState({logEnabled:!t})}}},{key:"handleDeleteClick",value:function(){if(this.state.logEnabled){var e=this.state.logState;e.pop(),window.localStorage.setItem("logState",JSON.stringify(e)),this.setState({logState:e})}}},{key:"handleSpaceClick",value:function(){if(this.state.logEnabled){var e=this.state.logState;e.push(" "),window.localStorage.setItem("logState",JSON.stringify(e)),this.setState({logState:e})}}},{key:"handleReturnClick",value:function(){if(this.state.logEnabled){var e=this.state.logState;e.push("\n"),window.localStorage.setItem("logState",JSON.stringify(e)),this.setState({logState:e})}}},{key:"handleClearClick",value:function(){var e=this.state.logState;e=[],window.localStorage.removeItem("logState"),this.setState({logState:e})}},{key:"handleCopyClick",value:function(){var e=this.state.logState,t=document.createElement("textarea");document.body.appendChild(t),t.value=e.join(""),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"handleDisplayChange",value:function(e){this.setState({displayParam:e.target.value}),this.searchParams.set("display",e.target.value),this.updateQueryString()}},{key:"handleOutputChange",value:function(e){this.setState({outputParam:e.target.value}),this.searchParams.set("output",e.target.value),this.updateQueryString()}},{key:"handleLayoutChange",value:function(e){this.setState({layoutParam:e.target.value}),this.searchParams.set("layout",e.target.value),this.updateQueryString(),this.mapLayout=this.mapLayouts[e.target.value],this.updateMapLayout()}},{key:"handleStartClick",value:function(){var e=this;this.setState({start:!0}),this.player=new G,a.e(3).then(a.t.bind(null,133,3)).then((function(t){for(var a=t.default,i=Object.keys(a).length,s=function(){var t=r[n];e.player.decodeAudioData(e.decoder.decode(a[t].substring(Q)),(function(a){e.notesBuffers[t]=a,e.state.ready||e.setState({percent:Math.round(100*Object.keys(e.notesBuffers).length/i),ready:Object.keys(e.notesBuffers).length===i})}))},n=0,r=Object.keys(a);n<r.length;n++)s()}))}},{key:"render",value:function(){return this.state.start?this.state.ready?Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)(V.a,{maxWidth:"xl",children:[Object(g.jsx)(f,{layout:this.mapLayout,state:this.state.mapState,layoutParam:this.state.layoutParam,displayParam:this.state.displayParam}),Object(g.jsx)(x,{onSwitchChange:this.handleSwitchChange,onDeleteClick:this.handleDeleteClick,onSpaceClick:this.handleSpaceClick,onReturnClick:this.handleReturnClick,onClearClick:this.handleClearClick,onCopyClick:this.handleCopyClick,outputMode:this.state.outputParam,state:this.state.logState,enabled:this.state.logEnabled}),Object(g.jsx)(E,{onDisplayChange:this.handleDisplayChange,onOutputChange:this.handleOutputChange,onLayoutChange:this.handleLayoutChange,defaultDisplayValue:this.state.displayParam,displayOptions:this.displayOptions,defaultOutputValue:this.state.outputParam,outputOptions:this.outputOptions,defaultLayoutValue:this.state.layoutParam,layoutOptions:Object.keys(this.mapLayouts)}),Object(g.jsx)(A,{})]})}):Object(g.jsx)("div",{className:"app",children:Object(g.jsx)(V.a,{maxWidth:"xl",children:Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)(j.a,{children:Object(g.jsxs)("div",{className:"loading-inner",children:[Object(g.jsx)("div",{className:"loading-item",children:Object(g.jsx)(M.a,{})}),Object(g.jsx)("div",{className:"loading-item",children:Object(g.jsx)(M.a,{variant:"determinate",value:this.state.percent,color:"secondary"})})]})})})})}):Object(g.jsx)("div",{className:"app",children:Object(g.jsx)(V.a,{maxWidth:"xl",children:Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"loading-inner",children:Object(g.jsx)("div",{className:"loading-item",children:Object(g.jsx)(C.a,{variant:"contained",color:"primary",onClick:this.handleStartClick,children:"Press Any Key to Start"})})})})})})})}}]),i}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(g.jsx)(W,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.192b407b.chunk.js.map